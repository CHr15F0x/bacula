<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<HTML>
<HEAD>
<TITLE>Bat User's Guide</TITLE>
<META NAME="description" CONTENT="Bat User's Guide">
<META NAME="keywords" CONTENT="bacula">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">
</HEAD>

<BODY>
<h1 align="center">Bat User's Guide</h1>
<br>

<h4>The JobList Interface</h4>

<p>The JobList interface will display a table of job id's which are instances of
a job being run.  The table will display data for each job that is stored in the
daemons sql backend.  The table currently includes the job name, the client name,
the job type, the job level, the number of files, the number of bytes, the status,
and the flag for whether the jobs files have been purged or not, and the jobs
fileset.

<p>The job type will be either "B" for backup or "R" for restore.  

<p>The job level will be "I" for incremental or "F" for full or "D" for differential.

<p>A purged value of 1 means that the files for that job have been purged and you
will not be able to browse for the files backed up with that job id.

<p>This interface uses a splitter to divide the display of the table and the widgets
used to modify the selection criterion.  There are 7 drop down boxes that can be used
to filter out the records in the table and to view only the items you are interested
in.  There are two limiting spin boxes and related check boxes that can be used to 
limit the number of and the age of the records that will be displayed.  These limiting
widgets begin at default values that can be configured in the Settings->Preferences
dialog box in the JoList tab.

<p>Pushing the Refresh button will cause the interface to requery the database.  The
database will also be requerried every time it comes back to the top of the stack of
interfaces in the main window.  A refresh option also exists in the popup when right
clicking on the Joblist item in the Page Selector.

<p>Pushing the Graph button will open up a new Job Plot interface with all of the 
drop downs and limiting widgets in the Job Plot window defaulting to the current
settings of the widgets in the Job List window.

<p>There are many options in the context sensitive popup that appears when the user
right clicks on the job table.

<p>Listing console commands can be run to list the jobid, list the files on that jobid,
list the jobmedia for that jobid, and list the volumes used for that jobid.  There is
a preferences item to determine whether a long list or a short list command will be run.
It can be found from the menu by following settings - preferences then the miscelaneous
tab.

<p>Dangerous commands of delete and purge will be preceeded by an are you sure dialog
box.

<p>An interace to view the logs that have been stored in the database for the jobid 
can be viewed by using the show log for job option.
If the database does not have a log, an interface explaining the modification that
should be made to the bacula-dir.conf file will come up.  The change is to add
catalog = all to the messages stanza of the messages resourse that this job uses.

<p>Restore from job will open up the Select jobs interface.  It will be prepopulated
with the correct data to open up a standard restore interface displaying the
filestructure backed up when this job ran.  It will only show the files from this job
if you don't change the widgets in the "Select jobs interface"

<p>Restore from time will populate the Select jobs interface with the endtime of the job
populated in the before time entry box.  This will cause the daemon to use the before
time to select the appropriate job id's for the restore.  This will be the most recent
full backup, the most recent differential backup done since the most recent full, and 
all the incremental backups done since the most recent full or differential.  This job
set will be the best possible group of jobs to restore what the filesystem looked like
after that job ran.

</BODY>
</HTML>
