
       Release Notes for Bacula 2.5.40

  Bacula code: Total files = 522 Total lines = 204,340 (*.h *.c *.in)

This Director and Storage daemon must be upgraded at the same time,
but they should be compatible with all 2.4.x File daemons, unless you
use some of the new features that affect the FD.  In other words, you should
not have to upgrade all your File daemons when you upgrade. However, the next
BETA release (after version 2.5.40) will require a database upgrade.

================== Warning !!!!!! ==========================

New Catalog format in version 2.5.40
------------------------------------

This BETA release of Bacula uses a new catalog format. We provide a set of
scripts that permit to convert a 2.4.x (version 10) catalog to 2.5.x (version
11). If you are using already a 2.5 version, you can drop the JobHistory
table before upgrading your catalog (if you are using the new "long term
statistics" module, you can upgrade this table the same way we do with 
the Job table, see upgrade_<database>_table script).

The upgrade operation will convert the FileId index field of the File table
from 32 bits to 64 bits.  This operation will take TIME and will *temporarily* 
DOUBLE THE SIZE of your catalog. Bacula must be shutdown during this update,
so, won't be able to run jobs during this period.  For example, a 3 million files
catalog will take 2 mins to upgrade on a normal machine.  Don't forget to
backup it before executing the script.


New configure option :
----------------------

This BETA release of Bacula 2.5.x development code uses libtool
to generate the Bacula libraries as shared objects rather than
being directly linked in as in prior versions.  This means that
the Bacula shared objects, must either be in a shared object 
directory known to the loader or they must be in the directory
where the Bacula binaries are installed.  It is also possible
to explicitly specify the libraries directory on the ./configure
line (--libdir=/full-path/dir), but this should not be necessary.

If you have problems with libtool or you wish to use the old 
way of building static libraries, you can do so by disabling 
libtool on the configure command line with:

  ./configure --disable-libtool
==============================================================

This release includes large number of new features and changes.
It should be more or less compatible with previous xx.conf files
and File daemons providing that you are not using any of the new
features.

Please see the New Features chapter of the new manual, which documents
some but not all the new features (we are still working on it):

http://www.bacula.org/manuals/en/concepts/concepts/New_Features.html
  
The ChangeLog has more details.
